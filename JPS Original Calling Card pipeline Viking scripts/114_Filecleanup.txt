#!/bin/bash
#SBATCH --job-name=CutadaptClean		 # Job name
#SBATCH --mail-type=END,FAIL             # Mail events (NONE, BEGIN, END, FAIL, ALL)
#SBATCH --mail-user=jps558@york.ac.uk    # Where to send mail  
#SBATCH --ntasks=1                       # Run on a single CPU
#SBATCH --mem=100gb                      # Job memory request
#SBATCH --time=12:00:00                  # Time limit hrs:min:sec
#SBATCH --output=basic_job_%j.log        # Standard output and error log
#SBATCH --account=biol-hic-2020          # Project account

#Make sure python environment is active before starting this script.

for dir in workingCCdata/202306_JS_BulkCC/*; do
        cd "$dir"
	echo "moved to "$dir""
        for file in *1.fqTrimmedBC.fq_fulltrimmed.fastq; do
            mv "$file" "${file%%.fqTrimmedBC.fq_fulltrimmed.fastq}_fulltrimmed.fastq"
        done
	for dile in *1.fqTrimmedBC.fq_fulltrimmed.fastq.sam_fulltrimmed.sam; do
            mv "$dile" "${dile%%.fqTrimmedBC.fq_fulltrimmed.fastq.sam_fulltrimmed.sam}_fulltrimmed.sam"
        done
	for mile in *.fqTrimmedBC.fq_fulltrimmed.fastq.sam_mapped.bam; do
            mv "$mile" "${mile%%.fqTrimmedBC.fq_fulltrimmed.fastq.sam_mapped.bam}_mapped.bam"
        done
        cd /mnt/lustre/groups/biol-hic-2020/jack/
done